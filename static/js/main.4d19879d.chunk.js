(this["webpackJsonpgdsc-form-release"]=this["webpackJsonpgdsc-form-release"]||[]).push([[0],{213:function(e,t,r){},214:function(e,t,r){},410:function(e,t,r){"use strict";r.r(t);var c=r(3),n=r(81),a=r.n(n),s=(r(213),r(82)),i=(r.p,r(214),r(206)),o=r.n(i),l=r(42),d=r(83),u=r.n(d),h=r(6);function f(e){var t,r=Object(c.useState)(!1),n=Object(s.a)(r,2),a=n[0],i=n[1];Object(c.useEffect)((function(){return setTimeout((function(){var e=function(){};e.toString=function(){return null!=document.querySelector("#zeIframe")&&document.querySelector("#zeIframe").setAttribute("src",""),i(!1),clearInterval(t),u.a.toast({html:"You've been logged out as we detected something sus!"}),"-"},t=setInterval((function(){console.profile(e),console.profileEnd(e)}),1e3)}),1e3),function(){clearInterval(t)}}),[a]);var d={signInFlow:"popup",signInOptions:[l.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(e){e.user&&e.user.email&&e.user.email.includes("nmims.edu.in")?i(e):(u.a.toast({html:"You must login with an nmims email domain. Logging out..."}),l.a.auth().signOut().then((function(){u.a.toast({html:"Logged out. Refresh to continue"}),i(!1)})).catch((function(e){console.log("Error caught while logging out:",e),i(!1)})))}}};return Object(h.jsx)(h.Fragment,{children:a?e.url?Object(h.jsx)("div",{style:{height:"95vh"},children:Object(h.jsx)("iframe",{src:e.url,width:"80%",height:"100%",style:{margin:"0 auto"},frameborder:"0",marginheight:"0",marginwidth:"0",id:"zeIframe",contextMenu:"return false;"})}):Object(h.jsx)("div",{className:"valign-wrapper",style:{height:"95vh",width:"100vw",justifySelf:"center",alignSelf:"center",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(h.jsx)("div",{className:"preloader-wrapper small active",children:Object(h.jsxs)("div",{className:"spinner-layer spinner-green-only",children:[Object(h.jsx)("div",{className:"circle-clipper left",children:Object(h.jsx)("div",{className:"circle"})}),Object(h.jsx)("div",{className:"gap-patch",children:Object(h.jsx)("div",{className:"circle"})}),Object(h.jsx)("div",{className:"circle-clipper right",children:Object(h.jsx)("div",{className:"circle"})})]})})}):Object(h.jsx)("div",{className:"valign-wrapper",style:{height:"95vh",width:"100vw",justifySelf:"center",alignSelf:"center",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(h.jsxs)("div",{style:{textAlign:"center"},children:[Object(h.jsx)("h4",{children:"Please login using NMIMS ID"}),Object(h.jsx)(o.a,{uiConfig:d,firebaseAuth:l.a.auth()})]})})})}var j=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){console.log("here"),l.a.firestore().collection("forms").orderBy("createdOn","desc").limit(1).get().then((function(e){e.forEach((function(e){console.log("doc",e.data()),n(e.data().link)}))})).catch((function(e){console.log("erorr",e)})),document.addEventListener("contextmenu",(function(e){e.preventDefault()})),document.onkeydown=function(e){return 123!=e.keyCode&&((!e.ctrlKey||!e.shiftKey||e.keyCode!="I".charCodeAt(0))&&((!e.ctrlKey||!e.shiftKey||e.keyCode!="J".charCodeAt(0))&&((!e.ctrlKey||e.keyCode!="U".charCodeAt(0))&&void 0)))}}),[]),Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(f,{url:r})})},m=r(43),g=r(131),b=r(41),p=r(57),O=Object(m.b)({firestore:b.firestoreReducer,firebase:p.firebaseReducer}),v=r(208),x=r(4),I=(r(409),r(132),{apiKey:"AIzaSyAQC4XQouIZ5wQGaa7Fe1sAHp0YdXU4keo",authDomain:"gdsc-form-release.firebaseapp.com",projectId:"gdsc-form-release",storageBucket:"gdsc-form-release.appspot.com",messagingSenderId:"321669275434",appId:"1:321669275434:web:72bd6ac5f4a1cbbc998853",measurementId:"G-1TCKGL8GFP"}),y={apiKey:I.apiKey,authDomain:I.authDomain,databaseURL:I.databaseURL,projectId:I.projectId,storageBucket:I.storageBucket,messagingSenderId:I.messagingSenderId,appId:I.appId,measurementId:I.measurementId};x.a.initializeApp(y);x.a.firestore();var w=x.a,S={userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0},A=Object(m.d)(O,Object(m.c)(Object(m.a)(v.a),Object(b.reduxFirestore)(w)));x.a,A.dispatch,b.createFirestoreInstance;function N(e){var t=e.children,r=Object(g.b)((function(e){return e.firebase.auth}));return Object(p.isLoaded)(r)?t:Object(h.jsx)("div",{className:"progress",children:Object(h.jsx)("div",{className:"indeterminate"})})}a.a.render(Object(h.jsx)(g.a,{store:A,children:Object(h.jsx)(p.ReactReduxFirebaseProvider,{firebase:x.a,config:S,dispatch:A.dispatch,createFirestoreInstance:b.createFirestoreInstance,children:Object(h.jsx)(N,{children:Object(h.jsx)(j,{})})})}),document.getElementById("root"))}},[[410,1,2]]]);
//# sourceMappingURL=main.4d19879d.chunk.js.map