(this["webpackJsonpgdsc-form-release"]=this["webpackJsonpgdsc-form-release"]||[]).push([[0],{213:function(e,t,c){},214:function(e,t,c){},410:function(e,t,c){"use strict";c.r(t);var a=c(3),r=c(81),s=c.n(r),i=(c(213),c(82)),n=(c.p,c(214),c(206)),o=c.n(n),l=c(42),d=c(130),u=c.n(d),h=c(6);function j(e){var t=Object(a.useState)(!1),c=Object(i.a)(t,2),r=c[0],s=c[1],n=function(){u.a.toast({html:"You must login with an nmims email domain. Logging out..."}),l.a.auth().signOut().then((function(){u.a.toast({html:"Logged out. Refresh to continue"}),s(!1)})).catch((function(e){console.log("Error caught while logging out:",e),s(!1)}))},d={signInFlow:"popup",signInOptions:[l.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(e){e.user&&e.user.email&&e.user.email.includes("nmims.edu.in")?s(e):n()}}};return Object(h.jsx)(h.Fragment,{children:r?e.url?Object(h.jsx)("div",{style:{height:"95vh"},children:Object(h.jsx)("iframe",{src:e.url,width:"80%",height:"100%",style:{margin:"0 auto"},frameborder:"0",marginheight:"0",marginwidth:"0",id:"zeIframe",contextMenu:"return false;"})}):Object(h.jsx)("div",{className:"valign-wrapper",style:{height:"95vh",width:"100vw",justifySelf:"center",alignSelf:"center",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(h.jsx)("div",{className:"preloader-wrapper small active",children:Object(h.jsxs)("div",{className:"spinner-layer spinner-green-only",children:[Object(h.jsx)("div",{className:"circle-clipper left",children:Object(h.jsx)("div",{className:"circle"})}),Object(h.jsx)("div",{className:"gap-patch",children:Object(h.jsx)("div",{className:"circle"})}),Object(h.jsx)("div",{className:"circle-clipper right",children:Object(h.jsx)("div",{className:"circle"})})]})})}):Object(h.jsx)("div",{className:"valign-wrapper",style:{height:"95vh",width:"100vw",justifySelf:"center",alignSelf:"center",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(h.jsxs)("div",{style:{textAlign:"center"},children:[Object(h.jsx)("h4",{children:"Please login using NMIMS ID"}),Object(h.jsx)(o.a,{uiConfig:d,firebaseAuth:l.a.auth()})]})})})}var m=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(a.useEffect)((function(){console.log("here"),l.a.firestore().collection("forms").orderBy("createdOn","desc").limit(1).get().then((function(e){e.forEach((function(e){console.log("doc",e.data()),r(e.data().link)}))})).catch((function(e){console.log("erorr",e)})),document.addEventListener("contextmenu",(function(e){e.preventDefault()}))}),[]),Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(j,{url:c})})},f=c(43),g=c(131),b=c(41),p=c(57),O=Object(f.b)({firestore:b.firestoreReducer,firebase:p.firebaseReducer}),v=c(208),x=c(4),I=(c(409),c(132),{apiKey:"AIzaSyAQC4XQouIZ5wQGaa7Fe1sAHp0YdXU4keo",authDomain:"gdsc-form-release.firebaseapp.com",projectId:"gdsc-form-release",storageBucket:"gdsc-form-release.appspot.com",messagingSenderId:"321669275434",appId:"1:321669275434:web:72bd6ac5f4a1cbbc998853",measurementId:"G-1TCKGL8GFP"}),y={apiKey:I.apiKey,authDomain:I.authDomain,databaseURL:I.databaseURL,projectId:I.projectId,storageBucket:I.storageBucket,messagingSenderId:I.messagingSenderId,appId:I.appId,measurementId:I.measurementId};x.a.initializeApp(y);x.a.firestore();var w=x.a,N={userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0},S=Object(f.d)(O,Object(f.c)(Object(f.a)(v.a),Object(b.reduxFirestore)(w)));x.a,S.dispatch,b.createFirestoreInstance;function F(e){var t=e.children,c=Object(g.b)((function(e){return e.firebase.auth}));return Object(p.isLoaded)(c)?t:Object(h.jsx)("div",{className:"progress",children:Object(h.jsx)("div",{className:"indeterminate"})})}s.a.render(Object(h.jsx)(g.a,{store:S,children:Object(h.jsx)(p.ReactReduxFirebaseProvider,{firebase:x.a,config:N,dispatch:S.dispatch,createFirestoreInstance:b.createFirestoreInstance,children:Object(h.jsx)(F,{children:Object(h.jsx)(m,{})})})}),document.getElementById("root"))}},[[410,1,2]]]);
//# sourceMappingURL=main.bf8741fe.chunk.js.map