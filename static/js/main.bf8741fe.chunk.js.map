{"version":3,"sources":["logo.svg","Login.js","App.js","store/reducers/rootReducer.js","config/fbConfigDeets.js","config/fbconfig.js","index.js"],"names":["Login","props","useState","isSignedin","setIsSignedIn","logout","M","toast","html","firebase","auth","signOut","then","catch","err","console","log","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","res","user","email","includes","url","style","height","src","width","margin","frameborder","marginheight","marginwidth","id","contextMenu","className","justifySelf","alignSelf","display","flexDirection","justifyContent","textAlign","firebaseAuth","App","setUrl","useEffect","firestore","collection","orderBy","limit","get","snapshot","forEach","doc","data","document","addEventListener","e","preventDefault","rootReducer","combineReducers","firestoreReducer","firebaseReducer","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseConfig","config","databaseURL","initializeApp","rrfConfig","userProfile","useFirestoreForProfile","attachAuthIsReady","store","createStore","compose","applyMiddleware","thunk","reduxFirestore","fbConfig","dispatch","createFirestoreInstance","AuthIsReady","children","useSelector","state","isLoaded","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bf8741fe.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useState, useEffect } from 'react'\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport firebase from 'firebase';\r\nimport M from 'materialize-css'\r\n\r\nexport default function Login(props) {\r\n\r\n    var timeout\r\n\r\n    const strict = () => {\r\n        try {\r\n            const iframe = document.getElementById('zeIframe');\r\n            const iframeWin = iframe.contentWindow || iframe;\r\n            const iframeDoc = iframe.contentDocument || iframeWin.document;\r\n\r\n            var script = iframeDoc.createElement(\"script\");\r\n            script.append(`\r\n                window.onload = function() {\r\n                    document.querySelector(\"html\").addEventListener('contextmenu', (e) => {\r\n                        e.preventDefault();\r\n                    });\r\n                    document.onkeydown = function (e) {\r\n                        if (e.keyCode == 123) {\r\n                            return false;\r\n                        }\r\n                        if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {\r\n                            return false;\r\n                        }\r\n                        if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {\r\n                            return false;\r\n                        }\r\n                        if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n            `);\r\n            iframeDoc.documentElement.appendChild(script);\r\n        } catch (err) {\r\n            console.log(\"eeror\", err)\r\n        }\r\n    }\r\n\r\n    const [isSignedin, setIsSignedIn] = useState(false)\r\n\r\n    // useEffect(() => {\r\n    //     setTimeout(() => {\r\n    //         var devtools = function () { };\r\n    //         devtools.toString = function () {\r\n    //             if (document.querySelector(\"#zeIframe\") != null) {\r\n    //                 document.querySelector(\"#zeIframe\").setAttribute(\"src\", \"\")\r\n    //             }\r\n    //             // logout()\r\n    //             setIsSignedIn(false)\r\n    //             clearInterval(timeout)\r\n    //             M.toast({ html: \"You've been logged out as we detected something sus!\" })\r\n    //             return '-'\r\n    //         }\r\n\r\n    //         timeout = setInterval(() => {\r\n    //             console.profile(devtools)\r\n    //             console.profileEnd(devtools)\r\n    //         }, 1000)\r\n    //     }, 1000)\r\n\r\n    //     return () => {\r\n    //         clearInterval(timeout)\r\n    //     }\r\n    // }, [isSignedin])\r\n\r\n\r\n    \r\n    const firebaseOut = () => {\r\n        firebase.auth().signOut().then(() => {\r\n            M.toast({ html: \"Logged out. Refresh to continue\" })\r\n            setIsSignedIn(false)\r\n        }).catch((err) => {\r\n            console.log(\"Error caught while logging out:\", err)\r\n            setIsSignedIn(false)\r\n        })\r\n    }\r\n\r\n    const logout = () => {\r\n        M.toast({ html: \"You must login with an nmims email domain. Logging out...\" })\r\n        firebaseOut()\r\n    }\r\n\r\n    const uiConfig = {\r\n        // Popup signin flow rather than redirect flow.\r\n        signInFlow: 'popup',\r\n        // We will display Google and Facebook as auth providers.\r\n        signInOptions: [\r\n            firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n        ],\r\n        callbacks: {\r\n            // Avoid redirects after sign-in.\r\n            signInSuccessWithAuthResult: (res) => {\r\n                if (res.user && res.user.email && res.user.email.includes(\"nmims.edu.in\")) {\r\n                    \r\n                    setIsSignedIn(res)\r\n                } else {\r\n                    logout()\r\n                }\r\n            }\r\n        },\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isSignedin ? (\r\n                    props.url ? (\r\n                        <div style={{ height: \"95vh\" }} >\r\n                            <iframe\r\n                                // hidden\r\n                                src={props.url}\r\n                                width=\"80%\"\r\n                                height=\"100%\"\r\n                                style={{ margin: \"0 auto\" }}\r\n                                frameborder=\"0\"\r\n                                marginheight=\"0\"\r\n                                marginwidth=\"0\"\r\n                                id=\"zeIframe\"\r\n                                contextMenu=\"return false;\"\r\n                            // onLoad={() => strict()}\r\n                            >\r\n\r\n                            </iframe>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"valign-wrapper\" style={{\r\n                            height: \"95vh\",\r\n                            width: \"100vw\",\r\n                            justifySelf: \"center\",\r\n                            alignSelf: \"center\",\r\n                            display: \"flex\",\r\n                            flexDirection: \"column\",\r\n                            justifyContent: \"center\",\r\n                        }} >\r\n                            <div className=\"preloader-wrapper small active\">\r\n                                <div className=\"spinner-layer spinner-green-only\">\r\n                                    <div className=\"circle-clipper left\">\r\n                                        <div className=\"circle\"></div>\r\n                                    </div><div className=\"gap-patch\">\r\n                                        <div className=\"circle\"></div>\r\n                                    </div><div className=\"circle-clipper right\">\r\n                                        <div className=\"circle\"></div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                ) : (\r\n                    <div className=\"valign-wrapper\" style={{\r\n                        height: \"95vh\",\r\n                        width: \"100vw\",\r\n                        justifySelf: \"center\",\r\n                        alignSelf: \"center\",\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        justifyContent: \"center\",\r\n                    }} >\r\n                        <div style={{ textAlign: \"center\" }}>\r\n                            <h4>Please login using NMIMS ID</h4>\r\n                            <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n        </>\r\n    )\r\n}\r\n","import logo from './logo.svg';\r\nimport './App.css';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Login from './Login';\r\nimport firebase from 'firebase';\r\n\r\nfunction App() {\r\n  const [url, setUrl] = useState(\"\")\r\n  useEffect(() => {\r\n    console.log(\"here\")\r\n    firebase.firestore().collection(\"forms\").orderBy(\"createdOn\", 'desc').limit(1).get().then(snapshot => {\r\n      snapshot.forEach(doc => {\r\n        console.log(\"doc\", doc.data())\r\n        setUrl(doc.data()[\"link\"])\r\n      })\r\n    }).catch(err => {\r\n      console.log(\"erorr\", err)\r\n    })\r\n    document.addEventListener('contextmenu', (e) => {\r\n      e.preventDefault();\r\n    });\r\n    // document.onkeydown = function (e) {\r\n    //   if (e.keyCode == 123) {\r\n    //     return false;\r\n    //   }\r\n    //   if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {\r\n    //     return false;\r\n    //   }\r\n    //   if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {\r\n    //     return false;\r\n    //   }\r\n    //   if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {\r\n    //     return false;\r\n    //   }\r\n    // }\r\n  }, [])\r\n  return (\r\n    <div className=\"App\" >\r\n      <Login url={url} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","//import authReducer from './authreducer'\r\n// import coordReducer from './coordReducer'\r\n// import projectReducer from './projectReducer'\r\nimport { combineReducers } from 'redux'\r\nimport { firestoreReducer } from 'redux-firestore'\r\nimport { firebaseReducer } from 'react-redux-firebase'\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    // coordinates: coordReducer,\r\n    firestore: firestoreReducer,\r\n    firebase: firebaseReducer,\r\n});\r\n\r\nexport default rootReducer","export default {\r\n    apiKey: \"AIzaSyAQC4XQouIZ5wQGaa7Fe1sAHp0YdXU4keo\",\r\n    authDomain: \"gdsc-form-release.firebaseapp.com\",\r\n    projectId: \"gdsc-form-release\",\r\n    storageBucket: \"gdsc-form-release.appspot.com\",\r\n    messagingSenderId: \"321669275434\",\r\n    appId: \"1:321669275434:web:72bd6ac5f4a1cbbc998853\",\r\n    measurementId: \"G-1TCKGL8GFP\"\r\n};","import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\nimport config from './fbConfigDeets'\r\n\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: config.apiKey,\r\n  authDomain: config.authDomain,\r\n  databaseURL: config.databaseURL,\r\n  projectId: config.projectId,\r\n  storageBucket: config.storageBucket,\r\n  messagingSenderId: config.messagingSenderId,\r\n  appId: config.appId,\r\n  measurementId: config.measurementId\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nexport const db = firebase.firestore()\r\n\r\nexport default firebase","// import React from 'react';\n// import ReactDOM from 'react-dom';\n// import './index.css';\n// import App from './App';\n// import reportWebVitals from './reportWebVitals';\n\n// ReactDOM.render(\n//   <App />,\n//   document.getElementById('root')\n// );\n\n// // If you want to start measuring performance in your app, pass a function\n// // to log results (for example: reportWebVitals(console.log))\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider, useSelector } from 'react-redux';\nimport rootReducer from './store/reducers/rootReducer';\nimport thunk from 'redux-thunk';\nimport { createFirestoreInstance, reduxFirestore } from 'redux-firestore';\nimport { ReactReduxFirebaseProvider, isLoaded } from 'react-redux-firebase';\nimport firebase from 'firebase/app';\nimport fbConfig from './config/fbconfig';  //this is the config file in which firebase connection details are present\n// along with firebase.initializeApp() and firebase.firestore() commands\n// import OctopusLoading from './images/Loading.gif';\n\n\nconst rrfConfig = {\n  userProfile: 'users',\n  useFirestoreForProfile: true, //include if using firestore\n  attachAuthIsReady: true  //include if using firebase auth\n}\n\n// reduxFirestore worked for me and i guess is still there in the current version3\n// NOTE: This is a necessary step, because when you're using firebaseReducer and firestoreReducer in\n// the root reducer then those reducers know which firebase database to connect to as you pass these information\n// as fbConfig, so you're store now knows about youre firebase configuration file\n\nconst store = createStore(rootReducer,\n  compose(\n    applyMiddleware(thunk),\n    reduxFirestore(fbConfig)\n  )\n);\n\n// we pass these props from the <ReactReduxFirebaseProvider> down to all the elements and catch \n// the firebase property using the withFirebase() function (HOC)\nconst rrfProps = {\n  firebase,\n  config: rrfConfig,\n  dispatch: store.dispatch,\n  createFirestoreInstance\n}\n\n// this function is used as an alternative to the function in v2.*.* so that my DOM renders only when\n// my firebase has made a connection (ignore this if not using firebase.auth())\nfunction AuthIsReady({ children }) {\n  const auth = useSelector(state => state.firebase.auth);\n  if (isLoaded(auth)) {\n    return children;\n  }\n  else {\n    return <div className=\"progress\">\n      <div className=\"indeterminate\"></div>\n    </div>\n  }\n}\n\n// remove <AuthIsReady> tag is not using firebase.auth()\n\nReactDOM.render(\n  <Provider store={store}>\n    <ReactReduxFirebaseProvider firebase={firebase} config={rrfConfig} dispatch={store.dispatch} createFirestoreInstance={createFirestoreInstance}>\n      <AuthIsReady>\n        <App />\n      </AuthIsReady>\n    </ReactReduxFirebaseProvider>\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}